import all

class __SET__Worker
  def start(set : __SET__, adds : int) : void {
    repeat i <- adds {
      set.add(i)
    }
  }

  def wait() : void ()


class Main
  def main() : void {
    let runs = __RUNS__;
    let adds = __OPERATIONS__;
    let workers = __WORKERS__;

    repeat i <- runs {
      let set = new __SET__();
      let setWorkers = new [__SET__Worker](workers);
      tic();
      repeat i <- |setWorkers| {
        setWorkers[i] = new __SET__Worker()
      };
      repeat i <- |setWorkers| {
        (setWorkers[i]).start(set, adds)
      };
      repeat i <- |setWorkers| {
        get (setWorkers[i]).wait()
      };
      __WAIT_GET__ set.wait();
      print("__SET__: {} ms\n", toc());
    }
  }
